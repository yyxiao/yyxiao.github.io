---
bg: "tools.jpg"
layout: post
title:  Java性能优化
crawlertitle: "Java性能优化"
summary: "Java性能优化"
date: 2017-02-23 13:44:00
categories: posts
tags: ['Java']
author: Xander
---

如果有足够的时间开发、维护代码，就必须考虑每个可以优化的细节了，一个一个细小的优化点累积起来，
对于代码的运行效率绝对是有提升的。

#### 目的
* 减小代码的体积
* 提高代码运行的效率

### 尽量重用对象

String对象的使用，出现字符串连接时应该使用StringBuilder/StringBuffer代替。由于Java虚拟机
不仅要花时间生成对象，以后可能还需要花时间对这些对象进行垃圾回收和处理，因此，生成过多的对象将
会给程序的性能带来很大的影响。

### 尽量使用局部变量

调用方法时传递的参数以及在调用中创建的临时变量都保存在栈中速度较快，其他变量，如静态变量、实例变量等，
都在堆中创建，速度较慢。另外，栈中创建的变量，随着方法的运行结束，这些内容就没了，不需要额外的垃圾回收。

### 及时关闭流

Java编程过程中，进行数据库连接、I/O流操作时务必小心，在使用完毕后，及时关闭以释放资源。
因为对这些大对象的操作会造成系统大的开销。

### 尽量采用懒加载的策略，即在需要的时候才创建

```java
String str = "aaa";
if (i == 1){
 list.add(str);
}
//替换为
if (i == 1){
    String str = "aaa";
    list.add(str);
}
```



